print "START"

type number {
    proc init (x) {
        print "init: $x"
        return $x
    }
    proc operate (x operator rhs reversed) {
        print "operate: $x $operator $rhs $reversed"
        if ($operator == "+") {
            return 0
        }
        return [base.operate $x $operator $rhs $reversed]
    }
}

set n [number 5]
assert ([math ($n - 1)] == 4)
assert ([math ($n + 1)] == 0)

print "END"
